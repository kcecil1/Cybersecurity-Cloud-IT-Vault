# Writeup

Alright, buckle up! Letâ€™s dive into the magical world of databases and MongoDB with a sprinkle of ADHD-friendly chaos! ğŸš€

***

#### ğŸš¦ **Introduction: Databases are like Filing Cabinets for the Digital World!**

Imagine youâ€™re running a super cool candy shop ğŸ­. Your "database" is like the giant filing cabinet where you store everything:

* What candies youâ€™ve got ğŸ¬,
* How many are left ğŸ«,
* And which customers _really_ like sour gummies (team sour squad ğŸ˜).

Now, this cabinet needs to stay **organized** or else... chaos! Thatâ€™s what databases do â€” organize your info so you can find it faster than losing your keys (again). ğŸ”‘

***

#### ğŸ› ï¸ **Whatâ€™s MongoDB? A Fun Twist on Databases!**

Most databases are strict and say, "Hey, give me _tables_ and _rows_!" MongoDB, on the other hand, is like, "Chill, letâ€™s keep things loose with documents." ğŸ—‚ï¸

MongoDB loves these:

* **Databases** (the big filing cabinet ğŸ—„ï¸)
* **Collections** (drawers inside the cabinet)
* **Documents** (papers in the drawers with all your candy details in a cool JSON-like format).

Itâ€™s like opening a drawer to find a note saying:

```json
{
  "Candy": "Sour Gummies",
  "Stock": 42,
  "CustomerFavs": ["Alex", "Jamie", "Taylor"]
}
```

***

#### ğŸ˜± **But Wait! What If the Cabinet Has No Lock?**

Imagine leaving your candy shopâ€™s filing cabinet wide open for anyone to snoop around. NOT COOL, right? But thatâ€™s exactly what happens when **database misconfigurations** strike! ğŸ«£

MongoDB servers sometimes allow anyone to just waltz in without even a "username" or "password." That's like putting out a sign that says:\
ğŸ’¥ â€œFREE ACCESS TO ALL DATA! TAKE WHAT YOU WANT!â€ ğŸ’¥

This misconfiguration is what hackers LOVE. ğŸ•µï¸â€â™‚ï¸ They can connect remotely, peek into your candy stash, and even steal your secrets (or your _flag_, if this is an HTB lab).

***

#### ğŸ® **Mongod Box: A MongoDB Playground!**

Hereâ€™s the deal: the Mongod Linux box has a MongoDB server. BUT, surprise! Itâ€™s misconfigured, so you can sneak in without a key ğŸ”‘ (username/password).\
Youâ€™ll:

1. **Connect** to the database (like opening that unlocked filing cabinet).
2. **Enumerate** (aka snoop through) databases, collections, and documents.
3. **Retrieve the flag** (the treasure at the end ğŸ´â€â˜ ï¸).

***

#### ğŸŒŸ TL;DR Version! ğŸŒŸ

1. **Databases** = organized candy shop cabinet ğŸ­.
2. **MongoDB** = relaxed cabinet with JSON-like notes.
3. **Misconfigurations** = leaving the cabinet wide open ğŸ˜¬.
4. **HTB Mongod** = fun lab where you break into the cabinet and grab the flag. ğŸ¯

***

Letâ€™s go MongoDB diving and get that flag like the database ninjas we are! ğŸ¥·âœ¨

<figure><img src="../../../../../.gitbook/assets/image (164).png" alt=""><figcaption></figcaption></figure>

Alright, letâ€™s break this down into an exciting adventure! ğŸ‰

***

#### ğŸš€ **Step 1: Scanning with Nmap â€” Finding the Treasure Map!**

Imagine weâ€™re modern-day pirates, but instead of treasure chests, weâ€™re after **open ports and services** ğŸ´â€â˜ ï¸.\
We used **Nmap**, the pirateâ€™s telescope ğŸ•µï¸â€â™‚ï¸, with these cool flags:

* `-p-`: "I want to see all ports, from 0 to 65535! Show me everything!"
* `--min-rate=1000`: "Speed it up, send at least 1000 packets per second! Gotta go fast! ğŸƒâ€â™€ï¸ğŸ’¨"
* `-sV`: "Hey, tell me the version of the service running on each port. Are we dealing with a modern ship or a rusty one? âš“"

**Result?**

* **Port 22 (SSH):** Secure Shell for remote access. Not our focus (yet).
* **Port 27017 (MongoDB):** Ding ding! A MongoDB database server, and itâ€™s calling for us to check it out. ï¿½
* nmap -p- --min-rate=100 -sV ï¿½

<figure><img src="../../../../../.gitbook/assets/image (165).png" alt=""><figcaption></figcaption></figure>

***

<figure><img src="../../../../../.gitbook/assets/image (166).png" alt=""><figcaption></figcaption></figure>

#### ï¿½ï¿½ **Step 2: What is MongoDB? A Cool New Database Galaxy!**

Forget tables and rows â€” thatâ€™s old-school. MongoDB says, "Letâ€™s go with JSON-like collections and documents instead!" ğŸŒŸ

**Think of MongoDB like this:**

* **Databases** are giant storage rooms ğŸ“¦.
* **Collections** are shelves inside the storage room. ğŸ—‚ï¸
* **Documents** are the items on those shelves â€” flexible, schema-less, and super chill. ğŸ˜

Hereâ€™s an example:

```json
{
  "PirateName": "Captain Mongo",
  "Ship": "NoSQL Voyager",
  "Treasure": ["Gold", "Rubies", "Flags"]
}
```

***

#### ğŸ•µï¸â€â™‚ï¸ **Step 3: Why Is This Important?**

Sometimes, MongoDB is left **wide open** (misconfigured) with no lock or password. This is like leaving a pirate ship unguarded ğŸ´â€â˜ ï¸ â€” anyone can walk in and grab the booty (or data, in our case).

On this **HTB Mongod lab**, our goal is to:

1. Connect to the MongoDB server.
2. Peek into its databases.
3. Navigate through collections and documents.
4. Find and retrieve the flag. ğŸ¯

***

#### ğŸŒŸ TL;DR Summary

* **Nmap** is our map to find open ports. It revealed Port 27017, a MongoDB server.
* **MongoDB** is a chill NoSQL database with databases, collections, and documents instead of strict tables.
* **Mission:** Explore this misconfigured MongoDB, snoop through its treasures, and grab the flag! ğŸ´â€â˜ ï¸âœ¨

Ready to crack open that database and claim your prize? Letâ€™s go! ğŸ§‘â€ğŸ’»

<figure><img src="../../../../../.gitbook/assets/image (167).png" alt=""><figcaption></figcaption></figure>



#### ğŸ› ï¸ Connecting to MongoDB and Extracting the Flag: ADHD-Friendly Walkthrough ğŸ•µï¸â€â™€ï¸âœ¨

***

#### **Step 1: Getting Mongosh Up and Running**

Before we begin, we need **Mongosh**, the magical tool to connect with MongoDB! Here's what you do:

1.  Download it using this command:

    ```bash
    curl -O https://downloads.mongodb.com/compass/mongosh-2.3.2-linux-x64.tgz
    ```
2.  Extract the files:

    ```bash
    tar xvf mongosh-2.3.2-linux-x64.tgz
    ```
3.  Navigate to the folder:

    ```bash
    cd mongosh-2.3.2-linux-x64/bin
    ```

***

#### **Step 2: Connecting to MongoDB**

Time to hack into the treasure vault ğŸ´â€â˜ ï¸. Use this command:

```bash
./mongosh mongodb://{target_IP}:27017
```

10.129.194.201

ğŸ‰ **Screenshot Recap:**\
Youâ€™ve connected to MongoDB as an anonymous user! No locks, no passwords â€” just pure access magic. ğŸ”“âœ¨

<figure><img src="../../../../../.gitbook/assets/image (173).png" alt=""><figcaption></figcaption></figure>

***

#### **Step 3: Listing Databases**

To see whatâ€™s inside, use:

```bash
show dbs;
```



ğŸ’¡ MongoDB will show you a list of databases, like:

* `admin`
* `config`
* `local`
* **`sensitive_information`** ğŸ‘€
* `users`

<figure><img src="../../../../../.gitbook/assets/image (175).png" alt=""><figcaption></figcaption></figure>

***

#### **Step 4: Selecting a Database**

The juicy one here is **sensitive\_information**! Letâ€™s dive into it:

```bash
use sensitive_information;
```

ğŸ“‚ **Screenshot Recap:**\
Youâ€™re now inside the **sensitive\_information** database. ğŸš€

<figure><img src="../../../../../.gitbook/assets/image (176).png" alt=""><figcaption></figcaption></figure>

***

#### **Step 5: Listing Collections**

Collections are like folders. Letâ€™s see whatâ€™s inside this database:

```bash
show collections;
```

ğŸ”¥ Oh look! Thereâ€™s a collection called **flag**. Thatâ€™s where the prize is! ğŸ´â€â˜ ï¸

<figure><img src="../../../../../.gitbook/assets/image (177).png" alt=""><figcaption></figcaption></figure>

***

#### **Step 6: Dumping the Flag**

Now for the grand finale! To peek into the **flag** collection, use:

```bash
db.flag.find().pretty();
```

This command shows the flag in a neat, human-readable format. âœ¨ğŸ¯

<figure><img src="../../../../../.gitbook/assets/image (178).png" alt=""><figcaption></figcaption></figure>

***

#### **Summary Recap**

1. Installed Mongosh and connected to MongoDB.
2. Discovered the **sensitive\_information** database.
3. Found the **flag** collection.
4. Dumped the treasure (flag) using `db.flag.find().pretty()`.

ğŸ’ **Mission Complete:** Youâ€™ve unlocked the database secrets and retrieved the flag. On to the next adventure! ğŸš€























































































































































































































































































































































































