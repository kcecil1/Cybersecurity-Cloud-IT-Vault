---
description: Machine 6 on Hack the Box Tier Zero Starting Point
---

# Preignition HTB: Apache Recon, Web Structure Discovery, & Default Credentials Exploit

<figure><img src="../../../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

Task 1

Directory Brute-forcing is a technique used to check a lot of paths on a web server to find hidden pages. Which is another name for this? (i) Local File Inclusion, (ii) dir busting, (iii) hash cracking.

\*\*\* \*\*\*\*\*\*g

I have no idea what the answer to this is without digging deeper.

<figure><img src="../../../../.gitbook/assets/image (11).png" alt=""><figcaption></figcaption></figure>

The answer was in the writeup - "dir busting".



Task 2

What switch do we use for nmap's scan to specify that we want to perform version detection

\*\*\*

I'd say the answer to this is most likely -sV

<figure><img src="../../../../.gitbook/assets/image (12).png" alt=""><figcaption></figcaption></figure>

I was correct...



Task 3

What does Nmap report is the service identified as running on port 80/tcp?

\*\*\*p

The answer for this is in the writeup, but I sort of know this already because I work with Ignition Scada, which runs on port :8088 https, so port 80 is most likely http.

<figure><img src="../../../../.gitbook/assets/image (13).png" alt=""><figcaption></figcaption></figure>

The answer is correct.

I will now run nmap though on the target just to see what happens.

<figure><img src="../../../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

Yep, the nmap scan shows http on port 80.



Task 4

What server name and version of service is running on port 80/tcp?

\*\*\*\*\* \*.\*\*.2\


According to the nmap scan the name and version of the service running on the port 80 is "nginx 1.14.2"

<figure><img src="../../../../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

The answer was correct.

Task 5

What switch do we use to specify to Gobuster we want to perform dir busting specifically?

\*\*\*\


The switch tha should be used to specify to gobuster when we want to perform dir busting specifically is "dir." That is what I remembered reading in the writeup.

<figure><img src="../../../../.gitbook/assets/image (16).png" alt=""><figcaption></figcaption></figure>

The answer is correct.



Task 6

When using gobuster to dir bust, what switch do we add to make sure it finds PHP pages?

-\* \*\*p\


I'm not 100% of the answer, its -\* php where the \* is another character, I'll have to check the writeup again.

The answer was not in the writeup so I searched with Grok 2

<figure><img src="../../../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

According to Grok 2, the switch for looking specifically for PHP pages is "-x php." This switch allows one to specify file extension for php.

<figure><img src="../../../../.gitbook/assets/image (1).png" alt=""><figcaption></figcaption></figure>

The answer is correct. I guess this is a hint that I should use gobuster with the php switch on the web server.

gobuster dir -u example.com -w wordlist.txt -x php

This is the output from my command:

<figure><img src="../../../../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

Looks like there was two admin pages found or maybe that is a redundancy because I added the switch -x php

<figure><img src="../../../../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

I ran it again without using the switch and found only one php file/page with admin name.









#### Preignition Write-Up ğŸ”¥

**Prepared by: 0ne-nine9 from HTB**

**Optimized by: Kyle Cecil**

***

#### **Introduction**

Web servers are the unsung heroes of most infrastructures, quietly powering daily operations across departments. Depending on their role, web servers can:

* Be strictly internal, accessible only to employees.
* Or, more often, be **public-facing**â€”open to anyone on the Internet for retrieving information and files.

In either case, these servers are typically managed via **administrative panels**, which are securely locked behind a login screen.

***

#### **Letâ€™s Break It Down with an Example**

Imagine youâ€™ve decided to start your own blog. (Exciting, right? ğŸ‰) To make life easier, you choose **WordPress**â€”a popular web application for managing content effortlessly.

Hereâ€™s how it works:

1. Once WordPress is installed, your blog will have two sides:
   * **Public-Facing Side**: The part of your site visible to everyone.
   * **Private-Facing Side**: Your **administrative panel** hosted at `www.yourwebsite.com/wp-admin`, where you manage all the magic behind the scenes.
2. The admin panel is locked behind a **login screen**, adding a layer of security to keep unauthorized users out.

***

#### **Pro Tip for Hackers**

Want to explore the inner workings (and vulnerabilities) of WordPress websites? Dive into the **Hacking WordPress** module on **HTB Academy** to learn all the sneaky tricks! ğŸ•µï¸â€â™‚ï¸

This introduction sets the stage for understanding the critical role of web servers and their admin panels, whether youâ€™re securing them or looking for ways to ethically test their defenses. ğŸŒâœ¨

<figure><img src="../../../../.gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>

#### Unlocking the Secrets of WordPress Administration: A Pentester's Perspective ğŸ”ğŸ’»

Once you, as the **administrator** of a WordPress site, log into the admin panel, youâ€™re greeted with a treasure chest of controls, including:

* **Content Management**: Uploading posts, images, and other media.
* **Theme Selection**: Customizing the look and feel of your site.
* **Script Editing**: Adding or tweaking scripts for specific pages.
* And much more!

***

#### **Why This Matters for Pentesting**

The more you explore WordPress, the more youâ€™ll realize that this admin panel is a prime target in a penetration test. Why? Some of these features may:

* Be **outdated**, carrying critical vulnerabilities.
* Provide attackers with opportunities to gain a **foothold** in the system.
* Act as a springboard for **pivoting into the network**, escalating access with ease.

***

#### **The Key: Web Enumeration & Directory Busting**

Hereâ€™s the kicker: **Web enumeration**â€”especially **directory busting**â€”is an essential skill for any penetration tester. Itâ€™s your tool for uncovering hidden pages and functionalities that admins _never_ intended to leave exposed.

Letâ€™s break it down:

* **Manual Browsing**: Clicking links and exploring a siteâ€™s public-facing pages might yield some data, but most juicy targets (like admin panels) arenâ€™t published publicly.
* **Directory Busting**: Tools like Gobuster or Dirbuster scan for directories and hidden pages that arenâ€™t easily visible.

**Example**:\
Imagine you didnâ€™t know that `wp-admin` is the default admin panel for WordPress. Without **web enumeration** and **directory busting**, how would you discover it? These techniques reveal the paths less traveledâ€”where vulnerabilities often hide.

***

#### **Conclusion**

Whether youâ€™re managing a WordPress site or ethically testing one, **web enumeration** and **directory busting** are non-negotiable skills. They uncover critical information and hidden assets, helping you secure or exploit a web application more effectively. Master them, and youâ€™re one step closer to becoming a pentesting legend! ğŸ¥·ğŸ”¥



<figure><img src="../../../../.gitbook/assets/image (6).png" alt=""><figcaption></figcaption></figure>

#### Enumeration: The Journey Begins ğŸ•µï¸â€â™‚ï¸ğŸŒ

Before diving into the nitty-gritty of a target, letâ€™s start with the basics: **connectivity checks.** After all, if you canâ€™t talk to the target, you canâ€™t enumerate it!

***

#### **Step 1: Verify Connectivity**

1ï¸âƒ£ Grab the **IP address** of the target machine from the Starting Point lab page.\
2ï¸âƒ£ Open your terminal and hit it with the classic **ping command**:

```bash
ping <target_IP>
```

3ï¸âƒ£ Watch for those sweet, sweet **replies**. Two successful ones are all you need to confirm the connection is solid. ğŸ¯

***

#### **Pro Tip: Donâ€™t Overdo It**

You donâ€™t need to let the ping command run forever. Once youâ€™re confident the connection works, stop it. A **quick snippet of results** is often more efficient than waiting for a detailed report you donâ€™t need.

***

**Why It Matters:**\
Checking connectivity is like shaking hands with your targetâ€”itâ€™s polite, efficient, and sets the stage for everything to come. Plus, this quick step helps ensure youâ€™re not wasting time troubleshooting non-existent connectivity issues. Letâ€™s move forward with confidence! ğŸš€

<figure><img src="../../../../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

To proceed with a **preliminary scan** of the target using `nmap`, you can use the `-sV` option, which probes open ports to determine the **service/version information** running on them.

Hereâ€™s how you can execute this step:

***

#### **Command Example:**

```bash
nmap -sV <target_IP>
```

#### **What Happens?**

* The `-sV` switch tells `nmap` to identify **services** and their **versions** on any open ports.
* This provides valuable insight into whatâ€™s running on the target and can hint at potential vulnerabilities.

***

#### **Pro Tip:**

* Combine the `-sV` flag with other options for more detailed scans (e.g., `-Pn` to skip ping checks, or `-A` for aggressive scanning).
* Use this information to prioritize targets for further enumeration or exploitation.

This step helps you move from â€œwhatâ€™s open?â€ to â€œwhatâ€™s running?â€ as you peel back layers of the target system. ğŸš€

<figure><img src="../../../../.gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../.gitbook/assets/image (9).png" alt=""><figcaption></figcaption></figure>

#### Scanning Results: A Glimmer of Opportunity ğŸŒâœ¨

From our **nmap scan**, one entry stands out:

* **HTTP Service** running on **port 80**.

This signals that the target is likely hosting some **web content**, ripe for exploration. Letâ€™s dig in! ğŸ•µï¸â€â™€ï¸

***

#### **Step 1: Check the Web Page**

1ï¸âƒ£ Open your preferred web browser (Chrome, Firefox, etc.).\
2ï¸âƒ£ In the URL bar, type the targetâ€™s IP address:

```plaintext
http://<target_IP>
```

3ï¸âƒ£ Hit Enter, and voilÃ ! The browser will automatically connect to the targetâ€™s **port 80**, initiating **client-server communication** and loading the web pageâ€™s content.

***

#### **Why This Matters**

Exploring the web page gives you valuable clues about:

* The server's configuration.
* Technologies in use (e.g., CMS platforms like WordPress).
* Potential entry points for further enumeration or exploitation.

***

#### **Pro Tip: Dig Deeper!**

After browsing, consider using tools like:

* **Gobuster/Dirbuster**: For directory busting and finding hidden paths.
* **WhatWeb**: To identify web technologies in use.
* **Burp Suite**: For more in-depth web app analysis.

Web content often holds keys to vulnerabilities. Start with a quick look, then dig deeper! ğŸš€

<figure><img src="../../../../.gitbook/assets/image (10).png" alt=""><figcaption></figcaption></figure>

#### Nginx Web Server: A Closer Look ğŸ”ğŸŒ

When we visit the targetâ€™s IP address, we see something interesting: a default **nginx post-installation page**. Letâ€™s break this down:

***

#### **What is Nginx?**

Nginx is a powerful **web server** designed to:

* Serve content to users, such as web pages, images, videos, or audio.
* Handle traffic for internal or external purposes (think e-commerce, banking, or even simple blogs).

Its presence here confirms that the target is hosting **web content**, but...

***

#### **The Default Page: What Does It Tell Us?**

The default nginx page suggests:\
1ï¸âƒ£ **Potential Misconfiguration**: The server might not be fully set up or secure yet.\
2ï¸âƒ£ **Default Credentials in Use**: Admins often leave default settings for convenience during setup, which attackers love to exploit.

Unfortunately, this default page doesnâ€™t offer links or buttons to navigate further. But weâ€™re not done yet. **Hidden directories and content might still be lurking!** ğŸ‘€

***

#### **Uncovering Hidden Content: Enter Dir Busting ğŸšªğŸ› ï¸**

Rather than guess URLs manually (painful and inefficient), we turn to **directory busting**. This technique automates the process of finding hidden directories and files on the server.

**Tool of Choice: Gobuster**

**Gobuster** is a fast and effective directory-busting tool written in Go. If youâ€™re using Pwnbox on Hack The Box, good newsâ€”itâ€™s already installed! ğŸ‰

***

#### **Getting Started with Gobuster**

1ï¸âƒ£ **Install Gobuster (if needed):**\
For non-Pwnbox users, you can install Gobuster by running:

```bash
sudo apt install gobuster
```

2ï¸âƒ£ **Run Gobuster:**\
To scan the targetâ€™s web server for hidden directories:

```bash
gobuster dir -u http://<target_IP> -w /path/to/wordlist.txt
```

**Explanation:**

* `dir`: Specifies the directory-busting mode.
* `-u`: The target URL (e.g., `http://<target_IP>`).
* `-w`: The wordlist to use (like `/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt`).

3ï¸âƒ£ **Review the Output:**\
Gobuster will reveal any accessible directories or files, including those not linked on the default page.

***

#### **Why Dir Busting Matters**

Hidden directories often house:

* Admin panels.
* Configuration files.
* Debug logs or backups.
* Forgotten or unprotected sensitive content.

By uncovering these, you might find potential entry points or critical information for further enumeration and exploitation.

Letâ€™s see what secrets this nginx server is hiding! ğŸš€

<figure><img src="../../../../.gitbook/assets/image (17).png" alt=""><figcaption></figcaption></figure>

#### Installing Gobuster: Step-by-Step Guide ğŸ› ï¸ğŸ’»

To use **Gobuster**, you first need **Go** (the programming language) installed on your system. Follow these steps to get everything up and running:

***

#### **Step 1: Install Go**

Open your terminal and run the following command to install Go:

```bash
sudo apt install golang-go
```

This will install the required **Go environment** on your Linux system. Ensure you have at least Go **version 1.19** or later.

***

#### **Step 2: Install Gobuster**

**Option 1: Use `apt` Package Manager (Easiest Method)**

Once Go is installed, you can install Gobuster with:

```bash
sudo apt install gobuster
```

This method handles everything for youâ€”quick and simple!

**Option 2: Compile Gobuster from Source (Manual Method)**

If you want more control or the latest version, compile Gobuster from its source code:

1ï¸âƒ£ Clone the Gobuster repository:

```bash
sudo git clone https://github.com/OJ/gobuster.git
```

2ï¸âƒ£ Change to the cloned directory:

```bash
cd gobuster
```

3ï¸âƒ£ Install dependencies and build the tool:

```bash
go get && go build
```

4ï¸âƒ£ Install Gobuster:

```bash
go install
```

***

#### **Need More Help?**

If anything is unclear, refer to the Gobuster creatorâ€™s README file for detailed instructions:\
[GitHub Gobuster README](https://github.com/OJ/gobuster)

***

Once installed, youâ€™re ready to use Gobuster for directory busting and uncovering hidden web content. Let the hunt begin! ğŸ¯ğŸš€

<figure><img src="../../../../.gitbook/assets/image (18).png" alt=""><figcaption></figcaption></figure>

#### Using Gobuster for Directory Busting ğŸ› ï¸ğŸŒ

Now that Gobuster is installed, letâ€™s explore how to use it for **directory busting**! ğŸ•µï¸â€â™‚ï¸

***

#### **Step 1: Discover Gobusterâ€™s Capabilities**

To view all the available commands and switches, use:

```bash
gobuster --help
```

Hereâ€™s a quick overview of some useful commands:

* **dir**: Use Gobuster in directory/file enumeration mode (this is what we need).
* **dns**: Perform DNS subdomain enumeration.
* **fuzz**: Use fuzzing mode for advanced enumeration.
* **s3**: Search AWS S3 buckets.
* **vhost**: Enumerate virtual hosts.

***

#### **Step 2: Required Flags for Directory Busting**

For our case, weâ€™ll focus on directory busting. The key flags are:\
1ï¸âƒ£ **`dir`**: Specifies directory enumeration mode.\
2ï¸âƒ£ **`-w`**: Defines the path to the wordlist for directory names.\
3ï¸âƒ£ **`-u`**: Sets the target's IP address or URL.

**Example Command:**

```bash
gobuster dir -u http://<target_IP> -w /path/to/wordlist.txt
```

***

#### **Step 3: Get a Wordlist**

We need a wordlist to feed into Gobuster, which contains common directory names. Use the following command to download the **common.txt** wordlist from SecLists:

```bash
wget https://github.com/danielmiessler/SecLists/raw/master/Discovery/Web-Content/common.txt -O /usr/share/wordlists/common.txt
```

***

#### **Final Command to Start Dir Busting**

Once everything is ready, start Gobuster:

```bash
gobuster dir -u http://<target_IP> -w /usr/share/wordlists/common.txt
```

***

#### **Explanation of the Flags**

* `dir`: Runs Gobuster in directory enumeration mode.
* `-u`: Specifies the target URL (e.g., `http://192.168.1.1`).
* `-w`: Points to the wordlist (e.g., `/usr/share/wordlists/common.txt`).

***

#### **Whatâ€™s Next?**

Gobuster will output a list of discovered directories or files on the target server. Use this data to further explore hidden or sensitive content that could aid in your pentesting journey.

Letâ€™s uncover those hidden paths and see what secrets the server is holding! ğŸš€

<figure><img src="../../../../.gitbook/assets/image (19).png" alt=""><figcaption></figcaption></figure>

#### **Directory Busting Success: Uncovering `admin.php` ğŸšªâœ¨**

By using **Gobuster** with our chosen wordlist, we successfully identified a page named **`admin.php`** on the target server. Here's what happened:

***

#### **How Gobuster Works**

Gobuster used the **HTTP GET method** to request web pages by trying different URL variations from the wordlist. Some examples:

```plaintext
GET http://{target_IP}/kittens
GET http://{target_IP}/hackers
GET http://{target_IP}/admin.php
GET http://{target_IP}/hackthebox
GET http://{target_IP}/yourespecial
```

When the server responded positively to **`admin.php`**, it was flagged in the output as an **existing page**. This confirms that the file is present on the server and accessible. ğŸ¯

***

#### **Whatâ€™s Next? Manually Check `admin.php`**

Now that we know the **`admin.php`** page exists, navigate to it manually in your browser to explore its contents:

1ï¸âƒ£ Open your browser.\
2ï¸âƒ£ Enter the following in the URL bar:

```plaintext
http://{target_IP}/admin.php
```

3ï¸âƒ£ Hit Enter to load the page.

***

#### **What to Look For on `admin.php`**

Once you access the page, keep an eye out for:

* **Login Pages**: Could this be an admin portal?
* **Exposed Data**: Look for any sensitive information.
* **Default Credentials**: Test commonly used username/password combinations (e.g., `admin:admin`, `admin:password`).

***

#### **Pro Tip: Automate Login Testing**

If `admin.php` is a login page, you can use tools like **Hydra** or **Burp Suite** to brute-force credentials efficiently (but always ensure this is within the rules of your pentest or lab!).

***

Finding **`admin.php`** is a big step forward in your enumeration process. Letâ€™s see what secrets this page holds! ğŸš€

<figure><img src="../../../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>

#### Wrapping Up Gobuster: Whatâ€™s Next? ğŸ‰

Weâ€™ve successfully used **Gobuster** to identify the hidden **`admin.php`** page, and itâ€™s time to move forward. But if youâ€™re eager to take your **web enumeration** skills even further, thereâ€™s another tool you should check out: **Ffuf**! ğŸš€

***

#### **What is Ffuf?**

**Ffuf** (Fast Fuzz) is another powerful tool designed for:

* **Directory Busting**: Like Gobuster, but with added flexibility.
* **Web Fuzzing**: Replacing placeholders in URLs, headers, or request bodies to uncover hidden functionality or vulnerabilities.

***

#### **Learn More with HTB Academy**

For an in-depth look at Ffuf and advanced web enumeration, head over to HTB Academy and explore these modules:

1ï¸âƒ£ **Attacking Web Applications with Ffuf**

* Master Ffufâ€™s advanced features.
* Learn how to find hidden web directories and services efficiently.

2ï¸âƒ£ **Comprehensive Module on Web Enumeration**

* Explore various enumeration techniques for web applications.
* Go beyond basics with tools like Ffuf and others.

***

#### **Whatâ€™s the Difference Between Gobuster and Ffuf?**

* **Gobuster**: Simple and fast, great for straightforward directory busting.
* **Ffuf**: More advanced, allowing fuzzing of other components (e.g., POST parameters, HTTP headers).

***

Now that youâ€™ve unlocked the basics with Gobuster, dive deeper with Ffuf to become a true web enumeration expert! ğŸ•µï¸â€â™‚ï¸âœ¨

<figure><img src="../../../../.gitbook/assets/image (21).png" alt=""><figcaption></figcaption></figure>

